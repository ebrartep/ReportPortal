{"version":3,"file":"embed-plugin-url.min.js","sources":["../../../node_modules/just-extend/index.js","../../../node_modules/html-linkify/index.js","../src/index.js","../../../node_modules/html-escape/index.js"],"sourcesContent":["module.exports = extend;\n\n/*\n  var obj = {a: 3, b: 5};\n  extend(obj, {a: 4, c: 8}); // {a: 4, b: 5, c: 8}\n  obj; // {a: 4, b: 5, c: 8}\n\n  var obj = {a: 3, b: 5};\n  extend({}, obj, {a: 4, c: 8}); // {a: 4, b: 5, c: 8}\n  obj; // {a: 3, b: 5}\n\n  var arr = [1, 2, 3];\n  var obj = {a: 3, b: 5};\n  extend(obj, {c: arr}); // {a: 3, b: 5, c: [1, 2, 3]}\n  arr.push(4);\n  obj; // {a: 3, b: 5, c: [1, 2, 3, 4]}\n\n  var arr = [1, 2, 3];\n  var obj = {a: 3, b: 5};\n  extend(true, obj, {c: arr}); // {a: 3, b: 5, c: [1, 2, 3]}\n  arr.push(4);\n  obj; // {a: 3, b: 5, c: [1, 2, 3]}\n\n  extend({a: 4, b: 5}); // {a: 4, b: 5}\n  extend({a: 4, b: 5}, 3); {a: 4, b: 5}\n  extend({a: 4, b: 5}, true); {a: 4, b: 5}\n  extend('hello', {a: 4, b: 5}); // throws\n  extend(3, {a: 4, b: 5}); // throws\n*/\n\nfunction extend(/* [deep], obj1, obj2, [objn] */) {\n  var args = [].slice.call(arguments);\n  var deep = false;\n  if (typeof args[0] == 'boolean') {\n    deep = args.shift();\n  }\n  var result = args[0];\n  if (!result || (typeof result != 'object' && typeof result != 'function')) {\n    throw new Error('extendee must be an object');\n  }\n  var extenders = args.slice(1);\n  var len = extenders.length;\n  for (var i = 0; i < len; i++) {\n    var extender = extenders[i];\n    for (var key in extender) {\n      if (extender.hasOwnProperty(key)) {\n        var value = extender[key];\n        if (deep && isCloneable(value)) {\n          var base = Array.isArray(value) ? [] : {};\n          result[key] = extend(true, result.hasOwnProperty(key) ? result[key] : base, value);\n        } else {\n          result[key] = value;\n        }\n      }\n    }\n  }\n  return result;\n}\n\nfunction isCloneable(obj) {\n  return Array.isArray(obj) || {}.toString.call(obj) == '[object Object]';\n}\n","// Takes plain text and replaces links with HTML anchor elements. Based on\n// https://github.com/thejh/node-linkify\n\"use strict\";\n\n// Link regex\n// See http://daringfireball.net/2010/07/improved_regex_for_matching_urls\nvar rLink = /\\b((?:https?:\\/\\/|www\\d{0,3}[.]|[a-z0-9.\\-]+[.][a-z]{2,4}\\/)(?:[^\\s()<>]+|\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\))+(?:\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\)|[^\\s`!()\\[\\]{};:'\".,<>?«»“”‘’]))/gi;\n\n// Email regex\nvar rEmail = /\\b(([a-zA-Z0-9\\-\\_\\.])+(\\+[a-zA-Z0-9]*)?@[a-zA-Z\\_\\-]+?(\\.[a-zA-Z]{2,6})+)/gim;\n\nvar escape = require(\"html-escape\");\n\nmodule.exports = function(text, options) {\n\tif ( ! options) options = {};\n\n\tvar retval = \"\", cur = 0, match;\n\n\tvar escapeFn = options.escape === false ? function(str) { return str; } : escape;\n\n\twhile (match = rLink.exec(text)) {\n\t\tretval += escapeFn(text.slice(cur, match.index));\n\t\tretval += anchor(match[0], options.attributes);\n\t\tcur = rLink.lastIndex;\n\t}\n\n\tretval += escapeFn(text.slice(cur));\n\tretval = emails(retval, options.attributes);\n\n\treturn retval;\n};\n\n// Return an anchor element for the url\nfunction anchor(url, attrs) {\n\tvar text = escape(url),\n\t\thref = url;\n\n\t// Ensure protocol at beginning of url\n\tif (!/^[a-zA-Z]{1,6}:/.test(href)) {\n\t\thref = 'http://' + href;\n\t}\n\n\tvar attrsString = combine({ href: href }, attrs);\n\n\treturn \"<a \" + attrsString + \">\" + text + \"</a>\";\n}\n\n// combine attrs objects into single string\nfunction combine() {\n\treturn Array.prototype.slice.call(arguments)\n\t\t.map(attributes)\n\t\t.filter(Boolean)\n\t\t.join(\" \");\n}\n\n// Replace emails in text with anchor elements\nfunction emails(text, attrs) {\n\tvar attrsString = attributes(attrs);\n\n\treturn text.replace(rEmail, function(match, email) {\n\t\tvar elAttrs = attributes({ href: \"mailto:\" + email });\n\t\tif (attrsString) {\n\t\t\telAttrs += \" \" + attrsString;\n\t\t}\n\n\t\treturn \"<a \" + elAttrs + \">\" + escape(email) + \"</a>\";\n\t});\n}\n\nfunction attributes(attrs) {\n\tif ( ! attrs) return \"\";\n\treturn Object.keys(attrs).map(function(name) {\n\t\tvar value = attrs[name];\n\t\treturn escape(name) + \"=\\\"\" + escape(value) + \"\\\"\";\n\t}).join(\" \");\n}\n","import extend from \"just-extend\"\nimport linkify from \"html-linkify\"\n\nconst id = \"url\"\n\nexport default function url(opts) {\n  const defaultOptions = {\n    attributes: {},\n\n    // setting this to true will mess up characters like \"\n    escape: false\n  }\n\n  const { attributes, escape } = extend({}, defaultOptions, opts)\n  return {\n    id,\n    async transform(options) {\n      return extend({}, options, {\n        result: linkify(options.result, { attributes, escape })\n      })\n    }\n  }\n}\n\nurl.id = id\n","\"use strict\";\n\n/* From Twitter's Hogan.js */\n\nvar rAmp = /&/g,\n\trLt = /</g,\n\trGt = />/g,\n\trApos =/\\'/g,\n\trQuot = /\\\"/g,\n\thChars =/[&<>\\\"\\']/;\n\nfunction coerceToString(val) {\n\treturn String((val === null || val === undefined) ? '' : val);\n}\n\nmodule.exports = function(str) {\n\tstr = coerceToString(str);\n\n\treturn hChars.test(str)\n\t\t? str\n\t\t\t.replace(rAmp,'&amp;')\n\t\t\t.replace(rLt,'&lt;')\n\t\t\t.replace(rGt,'&gt;')\n\t\t\t.replace(rApos,'&#39;')\n\t\t\t.replace(rQuot, '&quot;')\n\t\t: str;\n};\n"],"names":["extend","args","slice","call","arguments","deep","shift","result","Error","extenders","len","length","i","extender","key","hasOwnProperty","value","obj","Array","isArray","toString","isCloneable","base","anchor","url","attrs","text","escape","href","test","prototype","map","attributes","filter","Boolean","join","combine","Object","keys","name","opts","const","id","transform","options","linkify","rAmp","rLt","rGt","rApos","rQuot","hChars","str","val","String","undefined","coerceToString","replace","rLink","rEmail","match","retval","cur","escapeFn","exec","index","lastIndex","attrsString","email","elAttrs","emails"],"mappings":"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"}